<form [formGroup]="form">
  <div class="setting-group">
    <div class="title">Learning sessions</div>

    <div class="setting">
      <div class="label">Words per session</div>
      <div class="field">
        <mat-form-field subscriptSizing="dynamic">
          <mat-select formControlName="wordsPerSession">
            @for (words of wordsOptions; track words) {
              <mat-option [value]="words"> {{ words }} words </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div class="setting">
      <div class="label">Enable "Matching mode" for review sessions</div>
      <div class="field">
        <chf-slide-toggle formControlName="enableReviewMatching" />
      </div>
    </div>

    <div class="setting">
      <div class="label">Card selection</div>
      <div class="field">
        <mat-form-field subscriptSizing="dynamic">
          <mat-select formControlName="cardSelectionType">
            <mat-option value="newest">Newest first</mat-option>
            <mat-option value="oldest">Oldest first</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>

  <div class="setting-group">
    <div class="title">Card collections</div>

    <div class="setting">
      <div class="label">Cards per page</div>
      <div class="field">
        <mat-form-field subscriptSizing="dynamic">
          <mat-select formControlName="pageSize">
            @for (size of pageOptions; track size) {
              <mat-option [value]="size"> {{ size }} cards </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div class="setting">
      <div class="label">Reset progress when a card is updated</div>
      <div class="field">
        <chf-slide-toggle formControlName="resetCardProgress" />
      </div>
    </div>
  </div>
</form>

<div class="setting-group">
  <div class="title">Backup</div>
  <chf-button (click)="exportToJSON()">Download a backup file</chf-button>
</div>

<div class="setting-group">
  <div class="title" [ngClass]="{ dimmed: !showDeveloperOptions }">
    Developer options
    <chf-slide-toggle [(active)]="showDeveloperOptions" />
  </div>
  @if (showDeveloperOptions) {
    <div class="developer-options-warning">
      Be careful, using the actions below may cause you to lose data.
    </div>
    <chf-button type="error" (click)="deleteDatabase()">Delete database</chf-button>
  }
</div>

<div class="setting-group">
  <div class="title">About</div>
  <div class="about-info">
    <div>App version: {{ appVersion }}</div>
    <div>License: {{ appLicense }}</div>
  </div>
</div>
